
<html>
  <head>
    <title>My Angular App!</title>
    <link href="styles.css" rel="stylesheet">
    <link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.19/angular.min.js"></script>
    <script src="app.js"></script>
    <style> .glyphicon-thumbs-up { cursor:pointer } </style>
  </head>
  <body ng-app="store" ng-controller="StoreController as store_ctrl">
		<div class="col-md-6 col-md-offset-3">
			  <div class="page-header">
				<h1>Gems app</h1>
		</div>
		 <div ng-repeat="product in store_ctrl.products">
			<h1>{{product.name}}</h1>
			<h1>{{product.price | currency}}</h1>
			<img ng-src="{{product.images[0].thumb}}"/>
			<!--<p><h1>{{product.description | uppercase}}</h1></p>-->
			<section ng-controller="PanelController as panel">
				<ul class="nav nav-pills">
					<li ng-class="{active:tab === 1}"><a href ng-click="panel.selectTab(1)">Description</a></li>
					<li ng-class="{active:tab === 2}"><a href ng-click="panel.selectTab(2)">Specs</a></li>
					<li ng-class="{active:tab === 3}"><a href ng-click="panel.selectTab(3)">Reviews</a></li>
				</ul>
			<div class="panel" ng-show="panel.isSelected(1)">
				<h4>Description</h4>
				<p>{{product.description}}</p>
			</div>
			<div class="panel" ng-show="panel.isSelected(2)">
				<h4>Specs</h4>
				<blockquote>None yet</blockquote>
			</div>
			<div class="panel" ng-show="panel.isSelected(3)">
				<h4>Reviews</h4>
				<blockquote ng-repeat="review in product.reviews">
					<b>Stars {{review.stars}}</b>
					{{review.body}}
					<cite>by: {{review.author}}</cite>
				</blockquote>
			<div id="formWrapper">
				<form name="reviewForm" class="form-group" ng-controller="ReviewController as reviewCtrl" ng-submit="reviewForm.$valid && reviewCtrl.addReview(product)" novalidate>
					<!--<blockquote>
						<b>Stars: {{reviewCtrl.review.stars}}</b>
						{{reviewCtrl.review.body}}
						<cite>by: {{reviewCtrl.review.author}}</cite>
					</blockquote>-->
					<select class="form-control" ng-model="reviewCtrl.review.stars" required>
						<option value="1">
							1 star
						</option>
						<option value="2">
							2 star
						</option>
						<option value="3">
							3 star
						</option>
						<option value="4">
							4 star
						</option>
						<option value="5">
							5 star
						</option>
					</select>
					<textarea class="form-control" ng-model="reviewCtrl.review.body" required></textarea>
					<label>by:</label>
					<input type="email" class="ng-pristine ng-invalid" ng-model="reviewCtrl.review.author" required />
					<div>reviewForm is {{reviewForm.$valid}}</div>
					<input type="submit" value="Submit"  ng-disable="reviewForm.$valid"  ng-class="{'btn-success': reviewForm.$valid}"/>
				</form>
				</div>
			</div>
			</section>
			
			<button ng-show="product.canPurchase" class="btn btn-success">Add to chart</button>
		</div>
    </div>
  </body>
</html>

